@import "tailwindcss";

/* Custom Tailwind CSS-first configuration for v4 */
@theme {
  /* Japanese color system - Darker traditional Inkan reds */
  --color-shu-primary: #CC1100;
  --color-enji-secondary: #A01B1B;
  --color-sango-accent: #D73527;
  
  /* Dark theme variants - Adjusted for darker reds */
  --color-shu-muted: #DD2211;
  --color-enji-deep: #8B1A1A;
  --color-sango-light: #E74C3C;
  
  /* Background colors */
  --color-dark-primary: #0F0F23;
  --color-dark-secondary: #1E1E2E;
  --color-dark-surface: #313244;
  
  /* Japanese spacing system (Ma) */
  --spacing-ma-sm: 16px;
  --spacing-ma-md: 24px;
  --spacing-ma-lg: 32px;
  --spacing-ma-xl: 48px;
  --spacing-ma-2xl: 64px;
  --spacing-ma-3xl: 80px;
  --spacing-ma-hero: 120px;
  
  /* Japanese shadow system - Updated for darker red */
  --shadow-japanese: 0 4px 16px rgba(204, 17, 0, 0.1);
  --shadow-japanese-hover: 0 8px 24px rgba(204, 17, 0, 0.15);
  --shadow-japanese-active: 0 2px 8px rgba(204, 17, 0, 0.2);
  
  /* Border radius */
  --radius-japanese: 8px;
}

/* Device mockup video styling */
.device .screen {
  overflow: hidden;
}

.device .screen video,
.device .screen img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 4px;
}

.video-timer-container,
.video-poster-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Heroicons styling for consistency */
li svg {
  flex-shrink: 0;
}

/* Enhanced carousel styling for clean alignment */
.carousel-slide {
  min-height: 650px;
  display: flex !important;
  flex-direction: column;
}

.carousel-slide a {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.carousel-slide .p-8 {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 280px;
}

.carousel-slide img {
  object-fit: contain !important;
  object-position: center;
  width: 100%;
  max-height: 384px; /* lg:h-96 equivalent */
  height: auto;
}

/* Ensure consistent card heights and content alignment */
.carousel-slide .group {
  display: flex;
  flex-direction: column;
  height: 100%;
  align-items: center; /* Center both image and content */
}

.carousel-slide .relative {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 320px;
  background: var(--color-gray-50, #f9fafb);
  width: 100%;
  max-width: 600px; /* Constrain maximum image container width */
}

/* Make text content width match the image container width */
.carousel-slide .p-8 {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 280px;
  width: 100%;
  max-width: 600px; /* Match the image container max-width */
  box-sizing: border-box;
}

/* Content area spacing improvements */
.carousel-slide .flex.items-center.gap-4 {
  min-height: 60px;
  align-items: flex-start;
}

.carousel-slide h3 {
  min-height: 56px;
  display: flex;
  align-items: center;
}

.carousel-slide p.flex-grow {
  min-height: 72px;
}

/* Mobile responsive improvements */
@media (max-width: 1023px) {
  .carousel-slide {
    min-height: 580px;
  }
  
  .carousel-slide img {
    max-height: 320px; /* h-80 equivalent */
    height: auto;
  }
  
  .carousel-slide .relative {
    max-width: 480px; /* Smaller constraint for mobile */
  }
  
  .carousel-slide .p-8 {
    min-height: 260px;
    max-width: 480px; /* Match mobile image container width */
  }
}

/* Custom component styles using Tailwind utilities */
@layer components {
  /* Japanese button system */
  .btn-japanese-primary {
    @apply px-6 py-3 bg-shu-primary text-white rounded-japanese 
           shadow-japanese hover:shadow-japanese-hover 
           hover:-translate-y-0.5 transition-all duration-300
           focus:outline-none focus:ring-2 focus:ring-shu-primary focus:ring-offset-2;
    color: white !important;
    background-color: var(--color-shu-primary) !important;
  }
  
  .btn-japanese-secondary {
    @apply px-6 py-3 border-2 border-shu-primary text-shu-primary 
           rounded-japanese hover:bg-shu-primary hover:text-white 
           transition-all duration-300
           focus:outline-none focus:ring-2 focus:ring-shu-primary focus:ring-offset-2;
  }
  
  .btn-japanese-secondary:hover {
    color: white !important;
    background-color: var(--color-shu-primary) !important;
  }
  
  .btn-japanese-ghost {
    @apply px-6 py-3 text-shu-primary hover:bg-shu-primary/10
           rounded-japanese transition-all duration-300
           focus:outline-none focus:ring-2 focus:ring-shu-primary focus:ring-offset-2;
  }
  
  /* Japanese card system */
  .card-japanese {
    @apply bg-white dark:bg-dark-surface rounded-japanese 
           shadow-japanese p-ma-lg transition-all duration-300;
  }
  
  .card-japanese-hover {
    @apply bg-white dark:bg-dark-surface rounded-japanese 
           shadow-japanese p-ma-lg transition-all duration-300
           hover:shadow-japanese-hover hover:-translate-y-1;
  }
  
  /* Section spacing using Ma principles */
  .section-ma {
    @apply py-ma-xl md:py-ma-2xl lg:py-ma-3xl;
  }
  
  .section-ma-hero {
    @apply py-ma-2xl md:py-ma-3xl lg:py-ma-hero;
  }
  
  .section-ma-sm {
    @apply py-ma-lg md:py-ma-xl lg:py-ma-2xl;
  }
  
  /* Typography classes */
  .hero-title {
    @apply text-5xl md:text-6xl lg:text-7xl font-bold leading-tight;
  }
  
  .section-title {
    @apply text-3xl md:text-4xl font-bold;
  }
  
  .section-subtitle {
    @apply text-xl text-gray-600;
  }
  
  /* Form elements */
  .input-japanese {
    @apply px-4 py-2 border border-gray-300 rounded-japanese
           focus:outline-none focus:ring-2 focus:ring-shu-primary focus:border-transparent
           transition-all duration-200;
  }
  
  /* Badge system */
  .badge-primary {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
           bg-shu-primary/10 text-shu-primary;
  }
  
  
  /* Gradient text */
  .text-gradient {
    @apply bg-gradient-to-r from-shu-primary to-sango-accent bg-clip-text text-transparent;
  }
  
  /* CTA Button system - matching template classes */
  .cta-primary-large {
    @apply inline-flex items-center justify-center px-8 py-4 bg-shu-primary text-white 
           rounded-japanese shadow-japanese hover:shadow-japanese-hover 
           hover:-translate-y-1 transition-all duration-300 font-semibold text-lg
           focus:outline-none focus:ring-2 focus:ring-shu-primary focus:ring-offset-2;
    color: white !important;
    background-color: var(--color-shu-primary) !important;
    text-decoration: none;
  }
  
  .cta-secondary {
    @apply inline-flex items-center justify-center px-6 py-3 border-2 border-shu-primary 
           text-shu-primary rounded-japanese hover:bg-shu-primary hover:text-white 
           transition-all duration-300 font-semibold
           focus:outline-none focus:ring-2 focus:ring-shu-primary focus:ring-offset-2;
    text-decoration: none;
  }
  
  .cta-secondary:hover {
    color: white !important;
    background-color: var(--color-shu-primary) !important;
  }
  
  .cta-compact {
    @apply inline-flex items-center justify-center px-4 py-2 bg-shu-primary text-white 
           rounded-japanese shadow-japanese hover:shadow-japanese-hover 
           hover:-translate-y-0.5 transition-all duration-300 font-medium
           focus:outline-none focus:ring-2 focus:ring-shu-primary focus:ring-offset-2;
    color: white !important;
    background-color: var(--color-shu-primary) !important;
    text-decoration: none;
  }
  
  /* Trust statistics styling */
  .trust-stats {
    @apply flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8 py-6 my-8;
  }
  
  .stats-card {
    @apply text-center;
  }
  
  .stats-number {
    @apply block text-2xl sm:text-3xl font-bold text-shu-primary mb-1;
  }
  
  .stats-label {
    @apply block text-sm text-gray-600 font-medium;
  }
  
  .stats-divider {
    @apply hidden sm:block w-px h-16 bg-gray-300;
  }
  
  /* Example box styling */
  .example-box {
    @apply bg-gray-50 border-l-4 border-shu-primary p-4 my-6 rounded-r-lg;
  }
  
  .example-title {
    @apply font-semibold text-gray-900 mb-2;
  }
  
  .example-text {
    @apply text-gray-700 text-sm leading-relaxed;
  }
  
  /* Step process styling */
  .step-process {
    @apply space-y-6;
  }
  
  .step-process .text-gradient {
    @apply inline-flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm;
    background: linear-gradient(135deg, var(--color-shu-primary) 0%, var(--color-sango-accent) 100%);
    color: white;
  }
  
  /* Hero section enhancements */
  .hero-title {
    @apply text-4xl sm:text-5xl lg:text-6xl font-bold leading-tight mb-6;
  }
  
  .hero-subtitle {
    @apply text-lg sm:text-xl text-gray-600 leading-relaxed mb-8;
  }
  
  .accent-text {
    @apply text-shu-primary;
  }
  
  /* CTA section layout */
  .cta-section {
    @apply flex flex-col sm:flex-row items-center gap-4 mt-8;
  }
  
  /* Language popup styling - Japanese design principles */
  .language-popup {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    background: rgba(15, 15, 35, 0.8);
    backdrop-filter: blur(8px);
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }
  
  .language-popup-show {
    opacity: 1;
    visibility: visible;
  }
  
  .language-popup-content {
    @apply relative bg-white dark:bg-dark-surface rounded-japanese shadow-japanese-hover;
    @apply max-w-md w-full mx-4 p-8;
    /* Ma (negative space) - generous padding */
    padding: 48px 40px;
    /* Subtle animation with Japanese easing */
    transform: translateY(20px) scale(0.95);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .language-popup-show .language-popup-content {
    transform: translateY(0) scale(1);
  }
  
  .language-popup-close {
    @apply absolute top-4 right-4 w-8 h-8 flex items-center justify-center;
    @apply text-gray-400 hover:text-shu-primary transition-colors duration-200;
    @apply rounded-full hover:bg-gray-100 dark:hover:bg-dark-secondary;
    background: transparent;
    border: none;
    cursor: pointer;
  }
  
  .language-popup-close:hover {
    color: var(--color-shu-primary);
  }
  
  .language-popup-icon {
    @apply w-12 h-12 mx-auto mb-6 text-shu-primary;
    /* Subtle pulse animation for attention */
    animation: pulse-japanese 2s infinite;
  }
  
  @keyframes pulse-japanese {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }
  
  .language-popup-title {
    @apply text-xl font-semibold text-center mb-8 leading-relaxed;
    @apply text-gray-900 dark:text-white;
    /* Japanese typography - slightly wider letter spacing */
    letter-spacing: -0.01em;
    line-height: 1.6;
  }
  
  .language-popup-buttons {
    @apply flex flex-col gap-3;
  }
  
  .language-popup-btn {
    @apply px-6 py-3 rounded-japanese font-medium text-center transition-all duration-300;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    border: none;
    cursor: pointer;
    min-height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .language-popup-btn-primary {
    @apply bg-shu-primary text-white shadow-japanese;
    @apply hover:shadow-japanese-hover hover:-translate-y-0.5;
    @apply focus:ring-shu-primary;
    background-color: var(--color-shu-primary) !important;
    color: white !important;
  }
  
  .language-popup-btn-primary:hover {
    background-color: var(--color-enji-secondary) !important;
    box-shadow: var(--shadow-japanese-hover);
    transform: translateY(-2px);
  }
  
  .language-popup-btn-secondary {
    @apply border-2 border-gray-300 text-gray-700 dark:text-gray-300;
    @apply hover:border-shu-primary hover:text-shu-primary;
    @apply dark:border-gray-600 dark:hover:border-shu-primary;
    @apply focus:ring-shu-primary;
    background-color: transparent;
  }
  
  .language-popup-btn-secondary:hover {
    border-color: var(--color-shu-primary);
    color: var(--color-shu-primary);
  }
  
  /* Mobile responsive adjustments */
  @media (max-width: 480px) {
    .language-popup-content {
      margin: 16px;
      padding: 32px 24px;
    }
    
    .language-popup-title {
      @apply text-lg mb-6;
    }
    
    .language-popup-buttons {
      @apply gap-2;
    }
    
    .language-popup-btn {
      @apply py-3 text-sm;
      min-height: 44px;
    }
  }
  
  /* Dark theme specific adjustments */
  [data-theme="dark"] .language-popup {
    background: rgba(15, 15, 35, 0.9);
  }
  
  [data-theme="dark"] .language-popup-close:hover {
    background-color: var(--color-dark-secondary);
  }
  
  /* High contrast and accessibility improvements */
  @media (prefers-reduced-motion: reduce) {
    .language-popup,
    .language-popup-content,
    .language-popup-btn {
      transition: none;
    }
    
    .language-popup-icon {
      animation: none;
    }
  }
  
  /* Focus visible for better keyboard navigation */
  .language-popup-btn:focus-visible {
    outline: 2px solid var(--color-shu-primary);
    outline-offset: 2px;
  }
}