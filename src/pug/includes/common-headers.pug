//- Common headers for all pages
//- Include with: include includes/common-headers.pug

//- Basic meta tags
meta(charset='utf-8')
meta(name='viewport', content='width=device-width, initial-scale=1, shrink-to-fit=no')
meta(name='author', content='nicolas.thomas@inkan.link')

//- Security Headers via Meta Tags
meta(http-equiv='Content-Security-Policy', content="default-src 'self' https:; script-src 'self' 'unsafe-inline' https://cdn.matomo.cloud https://sealfie.matomo.cloud https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net; img-src 'self' data: https:; media-src 'self' https:; connect-src 'self' https://sealfie.matomo.cloud; frame-ancestors 'none'; base-uri 'self'; form-action 'self'")
meta(http-equiv='X-Frame-Options', content='DENY')
meta(http-equiv='X-Content-Type-Options', content='nosniff')
meta(http-equiv='Referrer-Policy', content='strict-origin-when-cross-origin')
meta(http-equiv='Permissions-Policy', content='geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=()')

//- Icons and assets
link(rel='icon', type='image/x-icon', href='/assets/favicon.svg')

//- Google fonts with preconnect for performance
link(rel='preconnect', href='https://fonts.gstatic.com')
link(href='https://fonts.googleapis.com/css2?family=Newsreader:ital,wght@0,600;1,600&display=swap', rel='stylesheet')
link(href='https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,300;0,500;0,600;0,700;1,300;1,500;1,600;1,700&display=swap', rel='stylesheet')
link(href='https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,400;1,400&display=swap', rel='stylesheet')

//- Critical resource preloading for LCP optimization
link(rel='preload', href='/assets/img/optimized/BlockChainPhone.webp', as='image', type='image/webp')
link(rel='preload', href='/assets/img/Landing-en.webm', as='video', type='video/webm')
link(rel='preload', href='/css/tailwind.css', as='style')
//- Preload hero video poster for faster LCP
link(rel='preload', href='/assets/img/optimized/portrait_black.webp', as='image', type='image/webp')

//- Heroicons are now used inline as SVG elements - no external CSS needed

//- Critical CSS inline for fastest rendering (above-the-fold)  
//- TODO: Include critical CSS inline when available

//- Non-critical CSS loaded asynchronously
link(rel='preload', href='/css/tailwind.css', as='style', onload="this.onload=null;this.rel='stylesheet'")
noscript
  link(href='/css/tailwind.css', rel='stylesheet')

//- Legacy styles CSS (Bootstrap-free, custom components only)
link(rel='preload', href='/css/styles.css', as='style', onload="this.onload=null;this.rel='stylesheet'")
noscript
  link(href='/css/styles.css', rel='stylesheet')