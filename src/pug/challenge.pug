doctype html
html(lang=$localeName)

  head
    //- Common headers shared across all pages
    include includes/common-headers.pug
    
    //- Page-specific meta tags
    title #{$i18n.challenge.title} | #{$i18n.title}
    meta(name='description', content=$i18n.challenge.subtitle)
    
    //- Page-specific canonical link
    link(rel='canonical', href='https://sealf.ie/'+$localeName+'/'+'challenge.html')

    //- Open Graph meta tags for social sharing
    meta(property='og:title', content=$i18n.challenge.title + ' | ' + $i18n.title)
    meta(property='og:description', content=$i18n.challenge.subtitle)
    meta(property='og:image', content='https://sealf.ie/assets/img/sealfie-og-image.jpg')
    meta(property='og:url', content='https://sealf.ie/'+$localeName+'/challenge.html')
    meta(property='og:type', content='website')
    meta(property='og:site_name', content='Sealfie')
    meta(property='og:locale', content=$localeName == 'en' ? 'en_US' : 'fr_FR')

    //- Twitter Card meta tags
    meta(name='twitter:card', content='summary_large_image')
    meta(name='twitter:site', content='@sealfieapp')
    meta(name='twitter:title', content=$i18n.challenge.title + ' | ' + $i18n.title)
    meta(name='twitter:description', content=$i18n.challenge.subtitle)
    meta(name='twitter:image', content='https://sealf.ie/assets/img/sealfie-twitter-card.jpg')

    //- Structured Data (Schema.org JSON-LD)
    script(type='application/ld+json').
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "WebPage",
            "@id": "https://sealf.ie/#{$localeName}/challenge.html#webpage",
            "url": "https://sealf.ie/#{$localeName}/challenge.html",
            "name": "#{$i18n.challenge.title} | #{$i18n.title}",
            "description": "#{$i18n.challenge.subtitle}",
            "inLanguage": "#{$localeName}",
            "isPartOf": {
              "@id": "https://sealf.ie/#website"
            }
          },
          {
            "@type": "Service",
            "@id": "https://sealf.ie/#security-challenge",
            "serviceType": "Security Assessment",
            "name": "Free Security Challenge",
            "description": "#{$i18n.challenge.subtitle}",
            "provider": {
              "@id": "https://sealf.ie/#organization"
            },
            "areaServed": "Worldwide",
            "availableLanguage": ["English", "French"],
            "offers": {
              "@type": "Offer",
              "price": "0",
              "priceCurrency": "USD",
              "availability": "https://schema.org/InStock",
              "url": "https://sealf.ie/#{$localeName}/challenge.html"
            },
            "hasOfferCatalog": {
              "@type": "OfferCatalog",
              "name": "Security Challenge Services",
              "itemListElement": [
                {
                  "@type": "Offer",
                  "itemOffered": {
                    "@type": "Service",
                    "name": "30-Minute Fraud Protection Assessment"
                  }
                }
              ]
            }
          }
        ]
      }

    script(id="mcjs")
        include ../js/mailchimp-popup.js

  body#page-top
    include includes/navbar.pug

    // Masthead section - Tailwind 4
    header(class="masthead section-ma bg-white")
      div(class="container mx-auto px-5")
        div(class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center")
          div(class="lg:col-span-8")
            // Masthead text and app badges
            div(class="mb-5 lg:mb-0 text-center lg:text-left")
              h1(class="text-4xl lg:text-5xl font-bold leading-tight mb-6") #{$i18n.challenge.masthead.title}
              p(class="text-xl text-gray-600 mb-8") #{$i18n.challenge.masthead.subtitle}
              div(class="flex flex-col lg:flex-row items-center")
                a(class="cta-primary-large inline-block" href="mailto:contact@sealf.ie?subject=Challenge%20Gratuit%20de%20Sécurité") #{$i18n.challenge.masthead.cta}
          
          div(class="lg:col-span-4")
            // Masthead illustration
            div(class="text-center")
              img(class="w-full rounded-lg shadow-lg" src="/assets/img/Cyborg_CEO_DAALE.webp" alt="Cyborg CEO Deepfake Threat")

    // Problem section - False security - Tailwind 4
    section(class="py-16 section-ma bg-white")
      div(class="container mx-auto px-5")
        div(class="max-w-5xl mx-auto")
          div(class="text-center mb-12")
            h2(class="section-title mb-6")
              span #{$i18n.challenge.problem.title}
            p(class="section-subtitle") #{$i18n.challenge.problem.subtitle}
          
          div(class="max-w-3xl mx-auto")
            div(class="bg-white border border-gray-200 rounded-lg shadow-lg mb-8")
              div(class="p-8")
                h4(class="text-center mb-6 text-gray-600") Vous pensez probablement que :
                ul(class="space-y-4 mb-6")
                  each point in $i18n.challenge.problem.points
                    li(class="flex items-start")
                      svg(class="w-5 h-5 text-green-500 mr-3 mt-1 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24")
                        path(fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd")
                      span= point
                
                div(class="bg-red-50 border border-red-200 rounded-lg p-4")
                  h5(class="font-semibold text-red-800 mb-2") #{$i18n.challenge.problem.reality.title}
                  p(class="text-red-700 mb-0") #{$i18n.challenge.problem.reality.text}

    // Solution section - Tailwind 4
    section(class="py-16 section-ma bg-gray-50")
      div(class="container mx-auto px-5")
        div(class="max-w-5xl mx-auto")
          div(class="text-center mb-12")
            h2(class="section-title mb-6")
              span #{$i18n.challenge.solution.title}
            p(class="section-subtitle") #{$i18n.challenge.solution.subtitle}
          
          div(class="grid grid-cols-1 md:grid-cols-3 gap-8")
            div(class="bg-white rounded-lg border border-gray-100 shadow-sm h-full")
              div(class="text-center p-6")
                div(class="mb-6")
                  svg(class="w-12 h-12 text-shu-primary mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24")
                    path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z")
                h4(class="text-xl font-semibold mb-4") #{$i18n.challenge.solution.process.step1.title}
                p(class="text-gray-600") #{$i18n.challenge.solution.process.step1.description}
            
            div(class="bg-white rounded-lg border border-gray-100 shadow-sm h-full")
              div(class="text-center p-6")
                div(class="mb-6")
                  svg(class="w-12 h-12 text-shu-primary mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24")
                    path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.072 16.5c-.77.833.192 2.5 1.732 2.5z")
                h4(class="text-xl font-semibold mb-4") #{$i18n.challenge.solution.process.step2.title}
                p(class="text-gray-600") #{$i18n.challenge.solution.process.step2.description}
            
            div(class="bg-white rounded-lg border border-gray-100 shadow-sm h-full")
              div(class="text-center p-6")
                div(class="mb-6")
                  svg(class="w-12 h-12 text-shu-primary mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24")
                    path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z")
                h4(class="text-xl font-semibold mb-4") #{$i18n.challenge.solution.process.step3.title}
                p(class="text-gray-600") #{$i18n.challenge.solution.process.step3.description}

    // Benefits section - Tailwind 4
    section(class="py-16 section-ma bg-white")
      div(class="container mx-auto px-5")
        div(class="max-w-4xl mx-auto")
          div(class="text-center mb-12")
            h2(class="section-title mb-6")
              span #{$i18n.challenge.benefits.title}
          
          div(class="bg-white border border-gray-200 rounded-lg shadow-lg")
            div(class="p-8")
              ul(class="space-y-4")
                each benefit in $i18n.challenge.benefits.items
                  li(class="flex items-start")
                    svg(class="w-5 h-5 text-yellow-400 mr-4 mt-1 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24")
                      path(d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.563.563 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z")
                    span(class="font-medium text-gray-700")= benefit

    // Testimonial section - Tailwind 4
    section(class="py-16 section-ma bg-gray-50")
      div(class="container mx-auto px-5")
        div(class="max-w-4xl mx-auto")
          div(class="text-center")
            blockquote(class="mb-6")
              p(class="text-xl italic text-gray-700") "#{$i18n.challenge.testimonial.quote}"
            figcaption(class="text-gray-600")
              | #{$i18n.challenge.testimonial.author}

    // Final CTA section - Tailwind 4
    section(class="py-16 bg-gradient-to-br from-gray-900 to-gray-800")
      div(class="container mx-auto px-5")
        div(class="text-center max-w-3xl mx-auto")
          h2(class="text-white text-4xl lg:text-5xl font-bold leading-tight mb-4") #{$i18n.challenge.cta.title}
          p(class="text-xl text-white mb-8") #{$i18n.challenge.cta.subtitle}
          a(class="cta-primary-large inline-block" href="mailto:contact@sealf.ie?subject=Challenge%20Gratuit%20de%20Sécurité" style="background: white; color: var(--shu-primary); border: 2px solid white;") #{$i18n.challenge.cta.button}
          br
          small(class="text-gray-300 mt-4 block") #{$i18n.challenge.cta.disclaimer}

    include includes/footer.pug

    // Common scripts (Bootstrap, Core theme, Language detection)
    include includes/common-scripts.pug