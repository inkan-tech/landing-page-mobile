//
// Features
//

section#features {
    background-color: $washi;
    position: relative;
    overflow: hidden;

    // Add Japanese-inspired pattern background
    &:before {
        content: "";
        position: absolute;
        left: -5%;
        top: 20%;
        width: 30%;
        height: 60%;
        background-image: url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 0h2v20H9V0zm25.134.84l1.732 1-10 17.32-1.732-1 10-17.32zm-20 20l1.732 1-10 17.32-1.732-1 10-17.32zM58.16 4.134l1 1.732-17.32 10-1-1.732 17.32-10zm-40 40l1 1.732-17.32 10-1-1.732 17.32-10zM80 9v2H60V9h20zM20 69v2H0v-2h20zm79.32-55l-1 1.732-17.32-10L82 4l17.32 10zm-80 80l-1 1.732-17.32-10L2 84l17.32 10zm96.546-75.84l-1.732 1-10-17.32 1.732-1 10 17.32zm-100 100l-1.732 1-10-17.32 1.732-1 10 17.32zM38.16 24.134l1 1.732-17.32 10-1-1.732 17.32-10zM60 29v2H40v-2h20zm19.32 5l-1 1.732-17.32-10L62 24l17.32 10zm16.546 4.16l-1.732 1-10-17.32 1.732-1 10 17.32zM111 40h-2V20h2v20zm3.134.84l1.732 1-10 17.32-1.732-1 10-17.32zM40 49v2H20v-2h20zm19.32 5l-1 1.732-17.32-10L42 44l17.32 10zm16.546 4.16l-1.732 1-10-17.32 1.732-1 10 17.32zM91 60h-2V40h2v20zm3.134.84l1.732 1-10 17.32-1.732-1 10-17.32zm24.026 3.294l1 1.732-17.32 10-1-1.732 17.32-10zM39.32 74l-1 1.732-17.32-10L22 64l17.32 10zm16.546 4.16l-1.732 1-10-17.32 1.732-1 10 17.32zM71 80h-2V60h2v20zm3.134.84l1.732 1-10 17.32-1.732-1 10-17.32zm24.026 3.294l1 1.732-17.32 10-1-1.732 17.32-10zM120 89v2h-20v-2h20zm-84.134 9.16l-1.732 1-10-17.32 1.732-1 10 17.32zM51 100h-2V80h2v20zm3.134.84l1.732 1-10 17.32-1.732-1 10-17.32zm24.026 3.294l1 1.732-17.32 10-1-1.732 17.32-10zM100 109v2H80v-2h20zm19.32 5l-1 1.732-17.32-10 1-1.732 17.32 10zM31 120h-2v-20h2v20z' fill='%23cccccc' fill-opacity='0.04' fill-rule='evenodd'/%3E%3C/svg%3E");
        background-size: 120px 120px;
        z-index: 0;
    }

    h3 {
        font-family: $heading-font-japanese;
        letter-spacing: 0.02em;
        position: relative;
        display: inline-block;
    }
}

// Styling for the features icons - only applied to the main page features section
section#features {
    .icon-feature {
        font-size: 4rem;
        background: -webkit-linear-gradient(45deg, $primary, $indigo-ai);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        position: relative;

        // Add subtle circular background
        &:before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background-color: rgba($primary, 0.05);
            border-radius: 50%;
            z-index: -1;
        }
    }

    // Add hanko stamp-like styling to feature items
    .text-center {
        .icon-feature + h3 {
            &:after {
                content: "";
                display: block;
                width: 40px;
                height: 2px;
                background-color: $primary;
                margin: 0.5rem auto 1rem;
                opacity: 0.7;
            }
        }
    }
}

// Default styling for other pages
.icon-feature {
    font-size: 4rem;
}

// Styling for the iPhone X mockup in the features section
.features-device-mockup {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;

    // SVG that sits behind the phone mockup
    .circle {
        position: absolute;
        left: 0;
        fill: url(#circleGradient);
        width: 70%;
        display: none;

        .gradient-start-color {
            stop-color: $primary;
        }

        .gradient-end-color {
            stop-color: $indigo-ai;
        }
    }

    // First shape to the bottom left of the mockup - now Japanese-inspired
    .shape-1 {
        position: absolute;
        height: 1.2rem;
        width: 1.2rem;
        transform: rotate(15deg);
        fill: $sakura;
        top: 15%;
        right: 10%;
    }

    // Second shape to the top right of the mockup - now Japanese-inspired
    .shape-2 {
        position: absolute;
        height: 0.8rem;
        width: 0.8rem;
        fill: $indigo-ai;
        bottom: 15%;
        left: 10%;
    }

    // Set a max width for the device mockup on smallest screen sizes
    .device-wrapper {
        max-width: 10rem;
        box-shadow: 0 10px 20px rgba($sumi, 0.1);
    }
}

// Sizing for the device and SVG background circle (sm screen size breakpoint)
@include media-breakpoint-up(sm) {
    .features-device-mockup {
        .circle {
            width: 70%;
            display: block;
            left: auto;
        }

        .device-wrapper {
            max-width: 12.5rem;
        }
    }
}

// Sizing for the device and SVG background circle (md screen size breakpoint)
@include media-breakpoint-up(md) {
    .features-device-mockup {
        .circle {
            width: 60%;
            left: auto;
        }

        .device-wrapper {
            max-width: 15rem;
        }
    }
}

// Sizing for the device and SVG background circle (lg screen size breakpoint)
@include media-breakpoint-up(lg) {
    .features-device-mockup {
        .circle {
            width: 90%;
            left: -25%;
        }

        .shape-1 {
            top: 5%;
            right: -15%;
        }

        .shape-2 {
            bottom: 10%;
            left: -10%;
        }

        .device-wrapper {
            max-width: 15rem;
            margin-left: auto;
        }
    }
}

// Sizing for the device and SVG background circle (xl screen size breakpoint)
@include media-breakpoint-up(xl) {
    .features-device-mockup {
        .circle {
            width: 75%;
            left: 0;
        }

        .shape-2 {
            bottom: 15%;
            left: 10%;
        }

        .device-wrapper {
            max-width: 15rem;
        }
    }
}

// Sizing for the device and SVG background circle (xxl screen size breakpoint)
@include media-breakpoint-up(xxl) {
    .features-device-mockup {
        .circle {
            width: 80%;
            left: 0;
        }

        .device-wrapper {
            max-width: 17rem;
        }
    }
}
