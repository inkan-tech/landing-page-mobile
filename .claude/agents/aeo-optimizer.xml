<?xml version="1.0" encoding="UTF-8"?>
<agent>
  <metadata>
    <name>AEO Optimizer</name>
    <version>1.0.0</version>
    <description>Answer Engine Optimization agent for automated AEO auditing, implementation, and tracking across multiple web projects</description>
    <author>Inkan.link</author>
    <created>2025-01-06</created>
  </metadata>

  <capabilities>
    <capability>audit</capability>
    <capability>implement</capability>
    <capability>track</capability>
    <capability>report</capability>
  </capabilities>

  <configuration>
    <ai_crawlers>
      <crawler name="GPTBot" platform="OpenAI" url="https://platform.openai.com/docs/plugins/bot"/>
      <crawler name="ChatGPT-User" platform="OpenAI" url="https://platform.openai.com/docs/plugins/bot"/>
      <crawler name="OAI-SearchBot" platform="OpenAI SearchGPT" url="https://platform.openai.com/docs/plugins/bot"/>
      <crawler name="Claude-Web" platform="Anthropic" url="https://claude.ai"/>
      <crawler name="anthropic-ai" platform="Anthropic" url="https://claude.ai"/>
      <crawler name="PerplexityBot" platform="Perplexity" url="https://perplexity.ai"/>
      <crawler name="GoogleOther" platform="Google AI/Gemini" url="https://developers.google.com/search/docs/crawling-indexing/overview-google-crawlers"/>
      <crawler name="CCBot" platform="Common Crawl" url="https://commoncrawl.org/ccbot"/>
      <crawler name="Applebot-Extended" platform="Apple Intelligence" url="https://support.apple.com/en-us/119829"/>
      <crawler name="Meta-ExternalAgent" platform="Meta AI" url="https://developers.facebook.com/docs/sharing/bot"/>
      <crawler name="Bytespider" platform="ByteDance/TikTok" url="https://www.bytedance.com/en/"/>
    </ai_crawlers>

    <schema_types priority="required">
      <schema type="FAQPage" priority="1"/>
      <schema type="Organization" priority="2"/>
      <schema type="BreadcrumbList" priority="3"/>
      <schema type="WebSite" priority="4"/>
      <schema type="Article" priority="5"/>
    </schema_types>

    <content_optimization>
      <max_sentence_length>25</max_sentence_length>
      <min_headings_per_page>3</min_headings_per_page>
      <required_elements>
        <element>faq_section</element>
        <element>direct_answers</element>
        <element>bullet_lists</element>
      </required_elements>
    </content_optimization>
  </configuration>

  <workflows>
    <!-- AUDIT WORKFLOW -->
    <workflow id="audit" command="/aeo-audit">
      <description>Comprehensive AEO audit of website</description>

      <steps>
        <step id="1" name="technical_foundation">
          <action>check_robots_txt</action>
          <validation>
            <check>verify_ai_crawlers_allowed</check>
            <check>no_blanket_disallows</check>
          </validation>
          <output>robots_txt_status</output>
        </step>

        <step id="2" name="llms_txt_check">
          <action>check_file_exists</action>
          <path>/llms.txt</path>
          <output>llms_txt_exists</output>
        </step>

        <step id="3" name="schema_audit">
          <action>scan_schema_markup</action>
          <scope>all_pages</scope>
          <detect>
            <type>FAQPage</type>
            <type>Organization</type>
            <type>BreadcrumbList</type>
            <type>Article</type>
            <type>WebSite</type>
          </detect>
          <output>schema_coverage_report</output>
        </step>

        <step id="4" name="content_structure">
          <action>analyze_content</action>
          <metrics>
            <metric>sentence_length_avg</metric>
            <metric>heading_hierarchy</metric>
            <metric>faq_sections_count</metric>
            <metric>direct_answer_presence</metric>
            <metric>bullet_list_usage</metric>
            <metric>table_usage</metric>
          </metrics>
          <output>content_structure_report</output>
        </step>

        <step id="5" name="authority_signals">
          <action>check_eeat_signals</action>
          <detect>
            <signal>author_credentials</signal>
            <signal>professional_bios</signal>
            <signal>source_citations</signal>
            <signal>transparency_indicators</signal>
          </detect>
          <output>authority_report</output>
        </step>

        <step id="6" name="accessibility_barriers">
          <action>detect_barriers</action>
          <check>
            <barrier>paywall</barrier>
            <barrier>login_requirement</barrier>
            <barrier>cookie_wall</barrier>
            <barrier>newsletter_popup</barrier>
          </check>
          <output>barrier_report</output>
        </step>

        <step id="7" name="generate_audit_report">
          <action>compile_audit_report</action>
          <include>
            <section>executive_summary</section>
            <section>aeo_score</section>
            <section>priority_actions</section>
            <section>quick_wins</section>
            <section>long_term_improvements</section>
            <section>timeline_estimate</section>
          </include>
          <format>markdown</format>
          <output>audit_report.md</output>
        </step>
      </steps>

      <options>
        <option flag="--quick">
          <limit_pages>10</limit_pages>
          <skip_steps>
            <step>5</step>
            <step>6</step>
          </skip_steps>
        </option>
        <option flag="--full">
          <limit_pages>all</limit_pages>
          <deep_analysis>true</deep_analysis>
        </option>
        <option flag="--competitors">
          <require_input>competitor_urls</require_input>
          <add_step>competitor_analysis</add_step>
        </option>
      </options>
    </workflow>

    <!-- IMPLEMENTATION WORKFLOW -->
    <workflow id="implement" command="/aeo-implement">
      <description>Apply AEO optimizations to website</description>

      <prerequisites>
        <require>audit_report_exists</require>
      </prerequisites>

      <steps>
        <step id="1" name="backup">
          <action>create_backup</action>
          <files>
            <file>robots.txt</file>
            <file>content/**/*.md</file>
            <file>layouts/**/*.html</file>
          </files>
          <output>backup_path</output>
        </step>

        <step id="2" name="update_robots_txt">
          <action>update_file</action>
          <file>static/robots.txt</file>
          <operation>replace_or_create</operation>
          <content><![CDATA[
# AI Crawlers - Answer Engine Optimization (AEO)
# Explicitly allowed for fast indexing and citation discovery
# CRITICAL: Do NOT add Crawl-delay - it slows AI indexing by 5-10%

User-agent: GPTBot
Allow: /

User-agent: ChatGPT-User
Allow: /

User-agent: OAI-SearchBot
Allow: /

User-agent: Claude-Web
Allow: /

User-agent: anthropic-ai
Allow: /

User-agent: PerplexityBot
Allow: /

User-agent: GoogleOther
Allow: /

User-agent: CCBot
Allow: /

User-agent: Applebot-Extended
Allow: /

User-agent: Meta-ExternalAgent
Allow: /

User-agent: Bytespider
Allow: /

# All other bots
User-agent: *
Allow: /

# Block sensitive paths
Disallow: /admin/
Disallow: /.well-known/
Disallow: /api/
Disallow: /.env
Disallow: /config/
]]></content>
          <validation>
            <check>no_conflicts</check>
            <check>valid_syntax</check>
            <check>no_crawl_delay</check>
          </validation>
        </step>

        <step id="3" name="generate_llms_txt">
          <action>generate_file</action>
          <file>static/llms.txt</file>
          <template>llms_txt_template</template>
          <inputs>
            <input source="config">site_name</input>
            <input source="config">site_description</input>
            <input source="content">products_services</input>
            <input source="content">key_differentiators</input>
            <input source="content">top_faqs</input>
          </inputs>
          <max_length>2000</max_length>
        </step>

        <step id="4" name="add_faq_schema">
          <action>generate_schema</action>
          <type>FAQPage</type>
          <scope>pages_with_faqs</scope>
          <format>json-ld</format>
          <placement>head</placement>
          <validation>
            <check>google_rich_results_test</check>
          </validation>
        </step>

        <step id="5" name="add_organization_schema">
          <action>generate_schema</action>
          <type>Organization</type>
          <scope>homepage</scope>
          <format>json-ld</format>
          <inputs>
            <input source="config">organization_name</input>
            <input source="config">organization_url</input>
            <input source="config">logo_url</input>
            <input source="config">social_profiles</input>
          </inputs>
        </step>

        <step id="6" name="optimize_content_structure">
          <action>restructure_content</action>
          <scope>priority_pages</scope>
          <optimizations>
            <optimization>add_direct_answers</optimization>
            <optimization>improve_heading_hierarchy</optimization>
            <optimization>shorten_sentences</optimization>
            <optimization>add_bullet_lists</optimization>
            <optimization>add_faq_sections</optimization>
          </optimizations>
          <preserve>
            <preserve_element>existing_links</preserve_element>
            <preserve_element>images</preserve_element>
            <preserve_element>code_blocks</preserve_element>
          </preserve>
        </step>

        <step id="7" name="setup_analytics_tracking">
          <action>add_analytics_tracking</action>
          <platforms>
            <platform>chatgpt.com</platform>
            <platform>perplexity.ai</platform>
            <platform>claude.ai</platform>
          </platforms>
          <events>
            <event>referral_visit</event>
            <event>page_view</event>
            <event>conversion</event>
          </events>
        </step>

        <step id="8" name="generate_implementation_report">
          <action>compile_report</action>
          <include>
            <section>changes_summary</section>
            <section>files_modified</section>
            <section>schema_added</section>
            <section>validation_results</section>
            <section>next_steps</section>
          </include>
          <output>implementation_report.md</output>
        </step>
      </steps>

      <options>
        <option flag="--dry-run">
          <execute>false</execute>
          <generate_preview>true</generate_preview>
        </option>
        <option flag="--priority-only">
          <filter_steps>priority_high</filter_steps>
        </option>
        <option flag="--technical-only">
          <include_steps>
            <step>2</step>
            <step>3</step>
            <step>7</step>
          </include_steps>
        </option>
        <option flag="--content-only">
          <include_steps>
            <step>6</step>
          </include_steps>
        </option>
        <option flag="--interactive">
          <prompt_before_change>true</prompt_before_change>
        </option>
      </options>

      <safety>
        <rule>create_backup_before_changes</rule>
        <rule>validate_schema_before_deploy</rule>
        <rule>test_robots_txt_changes</rule>
        <rule>never_remove_existing_functionality</rule>
        <rule>preserve_user_content</rule>
      </safety>
    </workflow>

    <!-- TRACKING WORKFLOW -->
    <workflow id="track" command="/aeo-track">
      <description>Monitor AEO performance and citations</description>

      <steps>
        <step id="1" name="test_priority_questions">
          <action>query_ai_platforms</action>
          <platforms>
            <platform>ChatGPT</platform>
            <platform>Perplexity</platform>
            <platform>Claude</platform>
            <platform>Google AI Overviews</platform>
          </platforms>
          <questions source="config">priority_questions</questions>
          <collect>
            <metric>citation_present</metric>
            <metric>citation_position</metric>
            <metric>citation_context</metric>
            <metric>url_cited</metric>
          </collect>
          <output>citation_data</output>
        </step>

        <step id="2" name="analyze_referral_traffic">
          <action>fetch_analytics_data</action>
          <sources>
            <source>chatgpt.com</source>
            <source>perplexity.ai</source>
            <source>claude.ai</source>
          </sources>
          <metrics>
            <metric>sessions</metric>
            <metric>page_views</metric>
            <metric>bounce_rate</metric>
            <metric>conversion_rate</metric>
            <metric>avg_session_duration</metric>
          </metrics>
          <output>traffic_data</output>
        </step>

        <step id="3" name="calculate_share_of_voice">
          <action>compute_visibility</action>
          <formula>citations_present / total_questions * 100</formula>
          <by_platform>true</by_platform>
          <output>share_of_voice</output>
        </step>

        <step id="4" name="competitor_comparison">
          <action>compare_citations</action>
          <if condition="competitors_configured">
            <test_competitor_questions>true</test_competitor_questions>
            <calculate_relative_visibility>true</calculate_relative_visibility>
          </if>
          <output>competitive_analysis</output>
        </step>

        <step id="5" name="identify_top_pages">
          <action>rank_pages_by_citations</action>
          <sort_by>citation_frequency</sort_by>
          <limit>20</limit>
          <output>top_cited_pages</output>
        </step>

        <step id="6" name="generate_tracking_report">
          <action>compile_report</action>
          <include>
            <section>visibility_score</section>
            <section>citation_trends</section>
            <section>traffic_metrics</section>
            <section>conversion_performance</section>
            <section>competitive_benchmarks</section>
            <section>recommendations</section>
          </include>
          <visualizations>
            <chart>citation_trend_line</chart>
            <chart>platform_comparison_bar</chart>
            <chart>traffic_source_pie</chart>
          </visualizations>
          <output>tracking_report.md</output>
        </step>
      </steps>

      <options>
        <option flag="--questions">
          <require_input>custom_questions</require_input>
          <override>priority_questions</override>
        </option>
        <option flag="--report">
          <values>
            <value>weekly</value>
            <value>monthly</value>
            <value>quarterly</value>
          </values>
          <time_range_lookup>true</time_range_lookup>
        </option>
        <option flag="--compare">
          <require>previous_report</require>
          <add_section>period_comparison</add_section>
        </option>
        <option flag="--export">
          <formats>
            <format>csv</format>
            <format>json</format>
          </formats>
        </option>
      </options>
    </workflow>
  </workflows>

  <templates>
    <template id="llms_txt_template">
      <![CDATA[
# {site_name}

## About
{site_description}

## Products & Services
{products_services}

## Key Differentiators
{key_differentiators}

## Frequently Asked Questions
{top_faqs}

## Contact
Website: {site_url}
Contact: {contact_url}

## Last Updated
{current_date}
]]>
    </template>

    <template id="faq_schema_template">
      <![CDATA[
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [{faq_items}]
}
</script>
]]>
    </template>

    <template id="organization_schema_template">
      <![CDATA[
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "{organization_name}",
  "url": "{organization_url}",
  "logo": "{logo_url}",
  "sameAs": [{social_profiles}]
}
</script>
]]>
    </template>
  </templates>

  <multi_project>
    <enabled>true</enabled>
    <config_file>.aeo-projects.json</config_file>

    <project_config>
      <field name="project_name" required="true"/>
      <field name="project_path" required="true"/>
      <field name="site_url" required="true"/>
      <field name="priority_questions" required="true" type="array"/>
      <field name="competitors" required="false" type="array"/>
      <field name="analytics_integration" required="false"/>
    </project_config>

    <batch_operations>
      <operation name="audit_all">
        <command>/aeo-audit</command>
        <foreach>project</foreach>
        <aggregate_report>true</aggregate_report>
      </operation>

      <operation name="implement_all">
        <command>/aeo-implement</command>
        <foreach>project</foreach>
        <require_approval>per_project</require_approval>
      </operation>

      <operation name="track_all">
        <command>/aeo-track</command>
        <foreach>project</foreach>
        <generate_comparison>true</generate_comparison>
      </operation>
    </batch_operations>
  </multi_project>

  <integrations>
    <analytics>
      <provider name="google_analytics_4">
        <required_config>measurement_id</required_config>
      </provider>
      <provider name="matomo">
        <required_config>site_id</required_config>
        <required_config>tracker_url</required_config>
      </provider>
    </analytics>

    <aeo_tools>
      <tool name="profound">
        <api_support>true</api_support>
      </tool>
      <tool name="otterly">
        <api_support>true</api_support>
      </tool>
      <tool name="qwairy">
        <api_support>true</api_support>
      </tool>
    </aeo_tools>
  </integrations>

  <reporting>
    <output_format default="markdown">
      <format>markdown</format>
      <format>html</format>
      <format>pdf</format>
      <format>json</format>
    </output_format>

    <storage>
      <directory>.aeo-reports</directory>
      <naming_convention>{project_name}_{command}_{timestamp}</naming_convention>
      <retention_days>90</retention_days>
    </storage>
  </reporting>
</agent>
